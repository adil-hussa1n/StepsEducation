{"ast":null,"code":"import axios from 'axios';\nconst API_URL = process.env.REACT_APP_API_URL ? `${process.env.REACT_APP_API_URL}/content` : 'http://localhost:5000/api/content';\nconst handleError = error => {\n  if (error.response) {\n    throw new Error(error.response.data.message || 'Server error');\n  } else if (error.request) {\n    throw new Error('Could not connect to server. Please check if the server is running.');\n  } else {\n    throw new Error('Error setting up the request');\n  }\n};\nconst getAuthConfig = token => ({\n  headers: {\n    Authorization: `Bearer ${token}`\n  }\n});\n\n// Get all content with filters\nexport const getAllContent = async (filters = {}) => {\n  try {\n    const params = new URLSearchParams(filters);\n    const response = await axios.get(`${API_URL}?${params}`);\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\n// Get content by slug\nexport const getContentBySlug = async slug => {\n  try {\n    const response = await axios.get(`${API_URL}/${slug}`);\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\n// Create content (admin only)\nexport const createContent = async (contentData, token) => {\n  try {\n    const response = await axios.post(API_URL, contentData, getAuthConfig(token));\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\n// Update content (admin only)\nexport const updateContent = async (contentId, contentData, token) => {\n  try {\n    const response = await axios.put(`${API_URL}/${contentId}`, contentData, getAuthConfig(token));\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\n// Delete content (admin only)\nexport const deleteContent = async (contentId, token) => {\n  try {\n    const response = await axios.delete(`${API_URL}/${contentId}`, getAuthConfig(token));\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\n// Update content section (admin only)\nexport const updateContentSection = async (contentId, sectionName, sectionData, token) => {\n  try {\n    const response = await axios.put(`${API_URL}/${contentId}/sections/${sectionName}`, sectionData, getAuthConfig(token));\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\n// Add item to repeatable section (admin only)\nexport const addSectionItem = async (contentId, sectionName, itemData, token) => {\n  try {\n    const response = await axios.post(`${API_URL}/${contentId}/sections/${sectionName}/items`, itemData, getAuthConfig(token));\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\n// Upload file (admin only)\nexport const uploadFile = async (file, token) => {\n  try {\n    const formData = new FormData();\n    formData.append('file', file);\n    const response = await axios.post(`${API_URL}/upload`, formData, {\n      ...getAuthConfig(token),\n      headers: {\n        ...getAuthConfig(token).headers,\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\nconst contentService = {\n  getAllContent,\n  getContentBySlug,\n  createContent,\n  updateContent,\n  deleteContent,\n  updateContentSection,\n  addSectionItem,\n  uploadFile\n};\nexport default contentService;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","handleError","error","response","Error","data","message","request","getAuthConfig","token","headers","Authorization","getAllContent","filters","params","URLSearchParams","get","getContentBySlug","slug","createContent","contentData","post","updateContent","contentId","put","deleteContent","delete","updateContentSection","sectionName","sectionData","addSectionItem","itemData","uploadFile","file","formData","FormData","append","contentService"],"sources":["X:/gradway/frontend/src/services/contentService.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_URL = process.env.REACT_APP_API_URL ? `${process.env.REACT_APP_API_URL}/content` : 'http://localhost:5000/api/content';\n\nconst handleError = (error) => {\n  if (error.response) {\n    throw new Error(error.response.data.message || 'Server error');\n  } else if (error.request) {\n    throw new Error('Could not connect to server. Please check if the server is running.');\n  } else {\n    throw new Error('Error setting up the request');\n  }\n};\n\nconst getAuthConfig = (token) => ({\n  headers: {\n    Authorization: `Bearer ${token}`,\n  },\n});\n\n// Get all content with filters\nexport const getAllContent = async (filters = {}) => {\n  try {\n    const params = new URLSearchParams(filters);\n    const response = await axios.get(`${API_URL}?${params}`);\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\n// Get content by slug\nexport const getContentBySlug = async (slug) => {\n  try {\n    const response = await axios.get(`${API_URL}/${slug}`);\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\n// Create content (admin only)\nexport const createContent = async (contentData, token) => {\n  try {\n    const response = await axios.post(API_URL, contentData, getAuthConfig(token));\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\n// Update content (admin only)\nexport const updateContent = async (contentId, contentData, token) => {\n  try {\n    const response = await axios.put(\n      `${API_URL}/${contentId}`,\n      contentData,\n      getAuthConfig(token)\n    );\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\n// Delete content (admin only)\nexport const deleteContent = async (contentId, token) => {\n  try {\n    const response = await axios.delete(\n      `${API_URL}/${contentId}`,\n      getAuthConfig(token)\n    );\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\n// Update content section (admin only)\nexport const updateContentSection = async (contentId, sectionName, sectionData, token) => {\n  try {\n    const response = await axios.put(\n      `${API_URL}/${contentId}/sections/${sectionName}`,\n      sectionData,\n      getAuthConfig(token)\n    );\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\n// Add item to repeatable section (admin only)\nexport const addSectionItem = async (contentId, sectionName, itemData, token) => {\n  try {\n    const response = await axios.post(\n      `${API_URL}/${contentId}/sections/${sectionName}/items`,\n      itemData,\n      getAuthConfig(token)\n    );\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\n// Upload file (admin only)\nexport const uploadFile = async (file, token) => {\n  try {\n    const formData = new FormData();\n    formData.append('file', file);\n\n    const response = await axios.post(\n      `${API_URL}/upload`,\n      formData,\n      {\n        ...getAuthConfig(token),\n        headers: {\n          ...getAuthConfig(token).headers,\n          'Content-Type': 'multipart/form-data',\n        },\n      }\n    );\n    return response.data;\n  } catch (error) {\n    handleError(error);\n  }\n};\n\nconst contentService = {\n  getAllContent,\n  getContentBySlug,\n  createContent,\n  updateContent,\n  deleteContent,\n  updateContentSection,\n  addSectionItem,\n  uploadFile,\n};\n\nexport default contentService; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}