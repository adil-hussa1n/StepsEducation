{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';const initialState={token:localStorage.getItem('token'),user:JSON.parse(localStorage.getItem('user')),isAuthenticated:!!localStorage.getItem('token'),loading:false,error:null};const authSlice=createSlice({name:'auth',initialState,reducers:{loginStart:state=>{state.loading=true;state.error=null;},loginSuccess:(state,action)=>{state.loading=false;state.isAuthenticated=true;state.token=action.payload.token;state.user=action.payload.user;localStorage.setItem('token',action.payload.token);localStorage.setItem('user',JSON.stringify(action.payload.user));},loginFailure:(state,action)=>{state.loading=false;state.error=action.payload;state.isAuthenticated=false;state.token=null;state.user=null;localStorage.removeItem('token');localStorage.removeItem('user');},logout:state=>{state.isAuthenticated=false;state.token=null;state.user=null;localStorage.removeItem('token');localStorage.removeItem('user');},clearError:state=>{state.error=null;}}});export const{loginStart,loginSuccess,loginFailure,logout,clearError}=authSlice.actions;export const selectAuth=state=>state.auth;export const selectIsAuthenticated=state=>state.auth.isAuthenticated;export const selectUser=state=>state.auth.user;export const selectAuthLoading=state=>state.auth.loading;export const selectAuthError=state=>state.auth.error;export default authSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","token","localStorage","getItem","user","JSON","parse","isAuthenticated","loading","error","authSlice","name","reducers","loginStart","state","loginSuccess","action","payload","setItem","stringify","loginFailure","removeItem","logout","clearError","actions","selectAuth","auth","selectIsAuthenticated","selectUser","selectAuthLoading","selectAuthError","reducer"],"sources":["X:/gradway/frontend/src/features/auth/authSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\n\nconst initialState = {\n  token: localStorage.getItem('token'),\n  user: JSON.parse(localStorage.getItem('user')),\n  isAuthenticated: !!localStorage.getItem('token'),\n  loading: false,\n  error: null,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    loginStart: (state) => {\n      state.loading = true;\n      state.error = null;\n    },\n    loginSuccess: (state, action) => {\n      state.loading = false;\n      state.isAuthenticated = true;\n      state.token = action.payload.token;\n      state.user = action.payload.user;\n      localStorage.setItem('token', action.payload.token);\n      localStorage.setItem('user', JSON.stringify(action.payload.user));\n    },\n    loginFailure: (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n      state.isAuthenticated = false;\n      state.token = null;\n      state.user = null;\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n    },\n    logout: (state) => {\n      state.isAuthenticated = false;\n      state.token = null;\n      state.user = null;\n      localStorage.removeItem('token');\n      localStorage.removeItem('user');\n    },\n    clearError: (state) => {\n      state.error = null;\n    },\n  },\n});\n\nexport const { loginStart, loginSuccess, loginFailure, logout, clearError } = authSlice.actions;\n\nexport const selectAuth = (state) => state.auth;\nexport const selectIsAuthenticated = (state) => state.auth.isAuthenticated;\nexport const selectUser = (state) => state.auth.user;\nexport const selectAuthLoading = (state) => state.auth.loading;\nexport const selectAuthError = (state) => state.auth.error;\n\nexport default authSlice.reducer;\n"],"mappings":"AAAA,OAASA,WAAW,KAAQ,kBAAkB,CAE9C,KAAM,CAAAC,YAAY,CAAG,CACnBC,KAAK,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACpCC,IAAI,CAAEC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAC9CI,eAAe,CAAE,CAAC,CAACL,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAChDK,OAAO,CAAE,KAAK,CACdC,KAAK,CAAE,IACT,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGX,WAAW,CAAC,CAC5BY,IAAI,CAAE,MAAM,CACZX,YAAY,CACZY,QAAQ,CAAE,CACRC,UAAU,CAAGC,KAAK,EAAK,CACrBA,KAAK,CAACN,OAAO,CAAG,IAAI,CACpBM,KAAK,CAACL,KAAK,CAAG,IAAI,CACpB,CAAC,CACDM,YAAY,CAAEA,CAACD,KAAK,CAAEE,MAAM,GAAK,CAC/BF,KAAK,CAACN,OAAO,CAAG,KAAK,CACrBM,KAAK,CAACP,eAAe,CAAG,IAAI,CAC5BO,KAAK,CAACb,KAAK,CAAGe,MAAM,CAACC,OAAO,CAAChB,KAAK,CAClCa,KAAK,CAACV,IAAI,CAAGY,MAAM,CAACC,OAAO,CAACb,IAAI,CAChCF,YAAY,CAACgB,OAAO,CAAC,OAAO,CAAEF,MAAM,CAACC,OAAO,CAAChB,KAAK,CAAC,CACnDC,YAAY,CAACgB,OAAO,CAAC,MAAM,CAAEb,IAAI,CAACc,SAAS,CAACH,MAAM,CAACC,OAAO,CAACb,IAAI,CAAC,CAAC,CACnE,CAAC,CACDgB,YAAY,CAAEA,CAACN,KAAK,CAAEE,MAAM,GAAK,CAC/BF,KAAK,CAACN,OAAO,CAAG,KAAK,CACrBM,KAAK,CAACL,KAAK,CAAGO,MAAM,CAACC,OAAO,CAC5BH,KAAK,CAACP,eAAe,CAAG,KAAK,CAC7BO,KAAK,CAACb,KAAK,CAAG,IAAI,CAClBa,KAAK,CAACV,IAAI,CAAG,IAAI,CACjBF,YAAY,CAACmB,UAAU,CAAC,OAAO,CAAC,CAChCnB,YAAY,CAACmB,UAAU,CAAC,MAAM,CAAC,CACjC,CAAC,CACDC,MAAM,CAAGR,KAAK,EAAK,CACjBA,KAAK,CAACP,eAAe,CAAG,KAAK,CAC7BO,KAAK,CAACb,KAAK,CAAG,IAAI,CAClBa,KAAK,CAACV,IAAI,CAAG,IAAI,CACjBF,YAAY,CAACmB,UAAU,CAAC,OAAO,CAAC,CAChCnB,YAAY,CAACmB,UAAU,CAAC,MAAM,CAAC,CACjC,CAAC,CACDE,UAAU,CAAGT,KAAK,EAAK,CACrBA,KAAK,CAACL,KAAK,CAAG,IAAI,CACpB,CACF,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAEI,UAAU,CAAEE,YAAY,CAAEK,YAAY,CAAEE,MAAM,CAAEC,UAAW,CAAC,CAAGb,SAAS,CAACc,OAAO,CAE/F,MAAO,MAAM,CAAAC,UAAU,CAAIX,KAAK,EAAKA,KAAK,CAACY,IAAI,CAC/C,MAAO,MAAM,CAAAC,qBAAqB,CAAIb,KAAK,EAAKA,KAAK,CAACY,IAAI,CAACnB,eAAe,CAC1E,MAAO,MAAM,CAAAqB,UAAU,CAAId,KAAK,EAAKA,KAAK,CAACY,IAAI,CAACtB,IAAI,CACpD,MAAO,MAAM,CAAAyB,iBAAiB,CAAIf,KAAK,EAAKA,KAAK,CAACY,IAAI,CAAClB,OAAO,CAC9D,MAAO,MAAM,CAAAsB,eAAe,CAAIhB,KAAK,EAAKA,KAAK,CAACY,IAAI,CAACjB,KAAK,CAE1D,cAAe,CAAAC,SAAS,CAACqB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}