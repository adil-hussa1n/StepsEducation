{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport contentService from '../../services/contentService';\n\n// Async thunks\nexport const fetchContentByPage = createAsyncThunk('content/fetchByPage', async (page, {\n  rejectWithValue\n}) => {\n  try {\n    return await contentService.getContentByPage(page);\n  } catch (error) {\n    var _error$response;\n    return rejectWithValue(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n  }\n});\nexport const createContent = createAsyncThunk('content/create', async (contentData, {\n  getState,\n  rejectWithValue\n}) => {\n  try {\n    const {\n      user\n    } = getState();\n    return await contentService.createContent(contentData, user.token);\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nexport const updateContent = createAsyncThunk('content/update', async ({\n  id,\n  contentData\n}, {\n  getState,\n  rejectWithValue\n}) => {\n  try {\n    const {\n      user\n    } = getState();\n    return await contentService.updateContent(id, contentData, user.token);\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nconst initialState = {\n  content: null,\n  loading: false,\n  error: null,\n  success: false\n};\nconst contentSlice = createSlice({\n  name: 'content',\n  initialState,\n  reducers: {\n    setContent: (state, action) => {\n      state.content = action.payload;\n    },\n    resetContent: state => {\n      state.content = null;\n      state.loading = false;\n      state.error = null;\n      state.success = false;\n    }\n  },\n  extraReducers: builder => {\n    builder\n    // Fetch content\n    .addCase(fetchContentByPage.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchContentByPage.fulfilled, (state, action) => {\n      state.loading = false;\n      state.content = action.payload;\n      state.success = true;\n    }).addCase(fetchContentByPage.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    })\n    // Create content\n    .addCase(createContent.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(createContent.fulfilled, (state, action) => {\n      state.loading = false;\n      state.content = action.payload;\n      state.success = true;\n    }).addCase(createContent.rejected, (state, action) => {\n      var _action$payload;\n      state.loading = false;\n      state.error = ((_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.message) || 'Failed to create content';\n    })\n    // Update content\n    .addCase(updateContent.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(updateContent.fulfilled, (state, action) => {\n      state.loading = false;\n      state.content = action.payload;\n      state.success = true;\n    }).addCase(updateContent.rejected, (state, action) => {\n      var _action$payload2;\n      state.loading = false;\n      state.error = ((_action$payload2 = action.payload) === null || _action$payload2 === void 0 ? void 0 : _action$payload2.message) || 'Failed to update content';\n    });\n  }\n});\nexport const {\n  setContent,\n  resetContent\n} = contentSlice.actions;\nexport default contentSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","contentService","fetchContentByPage","page","rejectWithValue","getContentByPage","error","_error$response","response","data","message","createContent","contentData","getState","user","token","updateContent","id","initialState","content","loading","success","contentSlice","name","reducers","setContent","state","action","payload","resetContent","extraReducers","builder","addCase","pending","fulfilled","rejected","_action$payload","_action$payload2","actions","reducer"],"sources":["X:/gradway/frontend/src/features/content/contentSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport contentService from '../../services/contentService';\r\n\r\n// Async thunks\r\nexport const fetchContentByPage = createAsyncThunk(\r\n  'content/fetchByPage',\r\n  async (page, { rejectWithValue }) => {\r\n    try {\r\n      return await contentService.getContentByPage(page);\r\n    } catch (error) {\r\n      return rejectWithValue(error.response?.data || error.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const createContent = createAsyncThunk(\r\n  'content/create',\r\n  async (contentData, { getState, rejectWithValue }) => {\r\n    try {\r\n      const { user } = getState();\r\n      return await contentService.createContent(contentData, user.token);\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nexport const updateContent = createAsyncThunk(\r\n  'content/update',\r\n  async ({ id, contentData }, { getState, rejectWithValue }) => {\r\n    try {\r\n      const { user } = getState();\r\n      return await contentService.updateContent(id, contentData, user.token);\r\n    } catch (error) {\r\n      return rejectWithValue(error.response.data);\r\n    }\r\n  }\r\n);\r\n\r\nconst initialState = {\r\n  content: null,\r\n  loading: false,\r\n  error: null,\r\n  success: false,\r\n};\r\n\r\nconst contentSlice = createSlice({\r\n  name: 'content',\r\n  initialState,\r\n  reducers: {\r\n    setContent: (state, action) => {\r\n      state.content = action.payload;\r\n    },\r\n    resetContent: (state) => {\r\n      state.content = null;\r\n      state.loading = false;\r\n      state.error = null;\r\n      state.success = false;\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      // Fetch content\r\n      .addCase(fetchContentByPage.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(fetchContentByPage.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.content = action.payload;\r\n        state.success = true;\r\n      })\r\n      .addCase(fetchContentByPage.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload;\r\n      })\r\n      // Create content\r\n      .addCase(createContent.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(createContent.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.content = action.payload;\r\n        state.success = true;\r\n      })\r\n      .addCase(createContent.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload?.message || 'Failed to create content';\r\n      })\r\n      // Update content\r\n      .addCase(updateContent.pending, (state) => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(updateContent.fulfilled, (state, action) => {\r\n        state.loading = false;\r\n        state.content = action.payload;\r\n        state.success = true;\r\n      })\r\n      .addCase(updateContent.rejected, (state, action) => {\r\n        state.loading = false;\r\n        state.error = action.payload?.message || 'Failed to update content';\r\n      });\r\n  },\r\n});\r\n\r\nexport const { setContent, resetContent } = contentSlice.actions;\r\nexport default contentSlice.reducer; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}